{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stagiaire\\\\Desktop\\\\React\\\\blog\\\\src\\\\components\\\\categories.jsx\";\nimport React, { Component } from \"react\";\nimport { getCategories } from \"../services/fakeCategoriesService\";\nimport Pagination from \"./pagination\";\nimport { pagination } from \"../utils/pagination\";\n\nclass Categories extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categories: getCategories(),\n      nbArticleParPage: 4,\n      pageEncours: 1\n    };\n\n    this.gestionClick = (e, numPage) => {\n      // méthode va impacter le state.pageEncours\n      e.preventDefault();\n      this.setState({\n        pageEncours: numPage\n      });\n      console.log(\"je suis cliqué\", numPage);\n    };\n  }\n\n  render() {\n    const count = this.state.categories.length;\n    const _this$state = this.state,\n          nbArticleParPage = _this$state.nbArticleParPage,\n          pageEncours = _this$state.pageEncours,\n          categories = _this$state.categories;\n    if (count === 0) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, \"Aucun article dans la base de donn\\xE9es\"); //sinon\n\n    const pages = pagination(categories, pageEncours, nbArticleParPage);\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, count, \" Articles dans la base de donn\\xE9es\"), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, \"Titre\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"Cat\\xE9gorie\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, pages.map(categorie => React.createElement(\"tr\", {\n      key: categorie._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, categorie.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, categorie.nom), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleDelete(categorie),\n      className: \"btn btn-danger btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(Pagination, {\n      totalArticles: categories,\n      nbArticleParPage: nbArticleParPage,\n      pageEncours: pageEncours,\n      gestionClick: this.gestionClick // Le composant qui possède le state doit être celui qui le modifie\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Categories;","map":{"version":3,"sources":["C:\\Users\\stagiaire\\Desktop\\React\\blog\\src\\components\\categories.jsx"],"names":["React","Component","getCategories","Pagination","pagination","Categories","state","categories","nbArticleParPage","pageEncours","gestionClick","e","numPage","preventDefault","setState","console","log","render","count","length","pages","map","categorie","_id","id","nom","handleDelete"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,QAA8B,mCAA9B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,UAAT,QAA2B,qBAA3B;;AAEA,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACjCK,KADiC,GACzB;AAAEC,MAAAA,UAAU,EAAEL,aAAa,EAA3B;AAA+BM,MAAAA,gBAAgB,EAAE,CAAjD;AAAoDC,MAAAA,WAAW,EAAE;AAAjE,KADyB;;AAAA,SAEjCC,YAFiC,GAElB,CAACC,CAAD,EAAIC,OAAJ,KAAgB;AAC7B;AACAD,MAAAA,CAAC,CAACE,cAAF;AACA,WAAKC,QAAL,CAAc;AAAEL,QAAAA,WAAW,EAAEG;AAAf,OAAd;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BJ,OAA9B;AACD,KAPgC;AAAA;;AAQjCK,EAAAA,MAAM,GAAG;AAAA,UACSC,KADT,GACmB,KAAKZ,KAAL,CAAWC,UAD9B,CACCY,MADD;AAAA,wBAG+C,KAAKb,KAHpD;AAAA,UAGCE,gBAHD,eAGCA,gBAHD;AAAA,UAGmBC,WAHnB,eAGmBA,WAHnB;AAAA,UAGgCF,UAHhC,eAGgCA,UAHhC;AAKP,QAAIW,KAAK,KAAK,CAAd,EAAiB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAAP,CALV,CAMP;;AAEA,UAAME,KAAK,GAAGhB,UAAU,CAACG,UAAD,EAAaE,WAAb,EAA0BD,gBAA1B,CAAxB;AACA,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIU,KAAJ,yCADF,EAEE;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,CADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,KAAK,CAACC,GAAN,CAAUC,SAAS,IAClB;AAAI,MAAA,GAAG,EAAEA,SAAS,CAACC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,SAAS,CAACE,EAAf,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,SAAS,CAACG,GAAf,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,OAAO,EAAE,MAAM,KAAKC,YAAL,CAAkBJ,SAAlB,CADjB;AAEE,MAAA,SAAS,EAAC,uBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CANF,CADD,CADH,CATF,CAFF,EA+BE,oBAAC,UAAD;AACE,MAAA,aAAa,EAAEf,UADjB;AAEE,MAAA,gBAAgB,EAAEC,gBAFpB;AAGE,MAAA,WAAW,EAAEC,WAHf;AAIE,MAAA,YAAY,EAAE,KAAKC,YAJrB,CAImC;AAJnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/BF,CADF;AAwCD;;AAzDgC;;AA4DnC,eAAeL,UAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { getCategories } from \"../services/fakeCategoriesService\";\r\nimport Pagination from \"./pagination\";\r\nimport { pagination } from \"../utils/pagination\";\r\n\r\nclass Categories extends Component {\r\n  state = { categories: getCategories(), nbArticleParPage: 4, pageEncours: 1 };\r\n  gestionClick = (e, numPage) => {\r\n    // méthode va impacter le state.pageEncours\r\n    e.preventDefault();\r\n    this.setState({ pageEncours: numPage });\r\n    console.log(\"je suis cliqué\", numPage);\r\n  };\r\n  render() {\r\n    const { length: count } = this.state.categories;\r\n\r\n    const { nbArticleParPage, pageEncours, categories } = this.state;\r\n\r\n    if (count === 0) return <p>Aucun article dans la base de données</p>;\r\n    //sinon\r\n\r\n    const pages = pagination(categories, pageEncours, nbArticleParPage);\r\n    return (\r\n      <React.Fragment>\r\n        <p>{count} Articles dans la base de données</p>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Titre</th>\r\n              <th>Catégorie</th>\r\n              <th />\r\n              <th />\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {pages.map(categorie => (\r\n              <tr key={categorie._id}>\r\n                {/* key est obligatoire pour react quand on fait des boucles car il doit pouvoir distinguer les différents éléments de la boucle car si la boucle est modifiée bien pouvoir voir ce qui est détruite et créé \r\n                    key n'est pas une props \r\n                    */}\r\n                <td>{categorie.id}</td>\r\n                <td>{categorie.nom}</td>\r\n                <td>\r\n                  <button\r\n                    onClick={() => this.handleDelete(categorie)}\r\n                    className=\"btn btn-danger btn-sm\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <Pagination\r\n          totalArticles={categories}\r\n          nbArticleParPage={nbArticleParPage}\r\n          pageEncours={pageEncours}\r\n          gestionClick={this.gestionClick} // Le composant qui possède le state doit être celui qui le modifie\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Categories;\r\n"]},"metadata":{},"sourceType":"module"}