{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stagiaire\\\\Desktop\\\\React\\\\blog\\\\src\\\\components\\\\categories.jsx\";\nimport React, { Component } from \"react\";\nimport { getCategories } from \"../services/fakeCategoriesService\";\nimport Pagination from \"./pagination\";\nimport { pagination } from \"../utils/pagination\";\n\nclass Categorie extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categories: getCategories(),\n      nbCategorieParPage: 2,\n      pageEncours: 1\n    };\n\n    this.delete = categorie => {\n      const filtredCategorie = this.state.categories.filter(c => c.id !== categorie._id);\n      this.setState({\n        categories: filtredCategorie\n      });\n    };\n\n    this.gestionClick = (e, numPage) => {\n      // méthode va impacter le state.pageEncours\n      e.preventDefault();\n      this.setState({\n        pageEncours: numPage\n      });\n      console.log(\"je suis cliqué\", numPage);\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          categories = _this$state.categories,\n          nbCategorieParPage = _this$state.nbCategorieParPage,\n          pageEncours = _this$state.pageEncours;\n    if (this.state.categories.length === 0) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Aucune cat\\xE9gorie disponible\");\n    const categoriePagine = pagination(categories, pageEnCours, nbCategorieParPage);\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Nom\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, categoriePagine.map((categorie, index) => {\n      return React.createElement(\"tr\", {\n        key: categorie._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, index + 1), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, categorie.nom), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger btn-sm\",\n        onClick: () => this.delete(categorie),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"supprimer\")), \">\");\n    }))), React.createElement(Pagination, {\n      totalArticles: categories.length,\n      nbArticleParPage: nbCategorieParPage,\n      pageEncours: pageEncours,\n      gestionClick: this.gestionClick // Le composant qui possède le state doit être celui qui le modifie\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Categorie;","map":{"version":3,"sources":["C:\\Users\\stagiaire\\Desktop\\React\\blog\\src\\components\\categories.jsx"],"names":["React","Component","getCategories","Pagination","pagination","Categorie","state","categories","nbCategorieParPage","pageEncours","delete","categorie","filtredCategorie","filter","c","id","_id","setState","gestionClick","e","numPage","preventDefault","console","log","render","length","categoriePagine","pageEnCours","map","index","nom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { getCategories } from \"../services/fakeCategoriesService\";\r\nimport Pagination from \"./pagination\";\r\nimport { pagination } from \"../utils/pagination\";\r\nclass Categorie extends Component {\r\n  state = {\r\n    categories: getCategories(),\r\n    nbCategorieParPage: 2,\r\n    pageEncours: 1\r\n  };\r\n  delete = categorie => {\r\n    const filtredCategorie = this.state.categories.filter(\r\n      c => c.id !== categorie._id\r\n    );\r\n    this.setState({ categories: filtredCategorie });\r\n  };\r\n  gestionClick = (e, numPage) => {\r\n    // méthode va impacter le state.pageEncours\r\n    e.preventDefault();\r\n    this.setState({ pageEncours: numPage });\r\n    console.log(\"je suis cliqué\", numPage);\r\n  };\r\n  render() {\r\n    const { categories, nbCategorieParPage, pageEncours } = this.state;\r\n    if (this.state.categories.length === 0)\r\n      return <p>Aucune catégorie disponible</p>;\r\n\r\n    const categoriePagine = pagination(\r\n      categories,\r\n      pageEnCours,\r\n      nbCategorieParPage\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Nom</th>\r\n              <th scope=\"col\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {categoriePagine.map((categorie, index) => {\r\n              return (\r\n                <tr key={categorie._id}>\r\n                  <th scope=\"row\">{index + 1}</th>\r\n                  <td>{categorie.nom}</td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-danger btn-sm\"\r\n                      onClick={() => this.delete(categorie)}\r\n                    >\r\n                      supprimer\r\n                    </button>\r\n                  </td>\r\n                  >\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n        <Pagination\r\n          totalArticles={categories.length}\r\n          nbArticleParPage={nbCategorieParPage}\r\n          pageEncours={pageEncours}\r\n          gestionClick={this.gestionClick} // Le composant qui possède le state doit être celui qui le modifie\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Categorie;\r\n"]},"metadata":{},"sourceType":"module"}